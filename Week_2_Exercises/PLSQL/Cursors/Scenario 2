DECLARE
    CURSOR ApplyAnnualFee IS
        SELECT AccountID, Balance
        FROM Accounts;

    account_id Accounts.AccountID%TYPE;
    balance Accounts.Balance%TYPE;
    annual_fee CONSTANT NUMBER := 50;  -- Assuming an annual fee of $50
BEGIN
    OPEN ApplyAnnualFee;
    LOOP
        FETCH ApplyAnnualFee INTO account_id, balance;
        EXIT WHEN ApplyAnnualFee%NOTFOUND;
        
        UPDATE Accounts
        SET Balance = Balance - annual_fee
        WHERE AccountID = account_id;

        DBMS_OUTPUT.PUT_LINE('Applied annual fee to Account ID: ' || account_id || '. New Balance: ' || (balance - annual_fee));
    END LOOP;
    CLOSE ApplyAnnualFee;
END;
/
